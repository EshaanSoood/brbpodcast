/* Post grid: force 2 columns on md and up */
@media (min-width: 768px) {
	.post-list {
		display: grid;
		grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
		gap: 20px; /* base gap, overlaps will visually cross this */
	}
}

/* Widen nav active trapezoid underline on desktop */
@media (min-width: 1024px) {
	.nav-link.is-active::after {
		width: 80% !important; /* was var(--nav-trapezoid-w) ~70% */
	}
}

/* Reviews/Podcasts listing: desktop rows + mobile cards */
.reviews-list {
	display: flex;
	flex-direction: column;
	gap: 12px;
}

/* Desktop row style */
@media (min-width: 768px) {
	.review-row {
		display: block;
		text-decoration: none;
		background: var(--color-background-offwhite, #faf8f5);
		box-shadow: 0 2px 6px rgba(101,79,132,0.12);
		transition: transform 520ms ease, box-shadow 520ms ease;
	}
	.review-row:hover,
	.review-row:focus-visible {
		transform: translateY(-2px) scale(1.015);
		box-shadow: 0 8px 22px rgba(101,79,132,0.18);
	}
	.review-row-inner {
		padding: 14px 16px 16px;
	}
	.review-row-title { font-size: 1.05rem; color: var(--color-purple-darkest, #654f84); margin: 0 0 2px; }
	.review-row-sub { color: var(--color-purple-dark, #a295b5); margin: 0 0 4px; }
	.review-row-meta { font-size: 0.9rem; color: var(--color-purple-dark, #a295b5); display: flex; gap: 10px; margin-bottom: 4px; }
	.review-row-excerpt { color: #3f3652; opacity: 0.9; }
}

/* Mobile card vibe: overlap like homepage, show newest card and next headline peeking */
@media (max-width: 767px) {
	.review-row { display: block; text-decoration: none; }
	.review-row.card-frame { margin-bottom: -4px; }
	.reviews-list .review-row:nth-child(2) .review-row-inner { padding-top: 8px; }
	/* Ensure only first card is full; others are compact */
	.reviews-list .review-row:nth-child(1) .review-row-inner { padding: 14px 16px 16px; }
	.reviews-list .review-row:nth-child(n+2) .review-row-inner { padding: 8px 16px; }
	.reviews-list .review-row:nth-child(n+2) .review-row-sub, 
	.reviews-list .review-row:nth-child(n+2) .review-row-excerpt { display: none; }
	.reviews-list .review-row:nth-child(n+2) .review-row-meta { font-size: 0.85rem; opacity: 0.85; }
}

/* Entry header typography refinements */
.post-header .post-title { margin: 0 0 4px; }
.post-header .post-subtitle { margin: 0 0 6px; }
.post-header .post-meta { margin: 0 0 12px; display: flex; gap: 10px; align-items: baseline; }
.post-header .post-author { font-family: Helvetica, Arial, ui-sans-serif, system-ui; }
.post-header .post-date { font-family: Helvetica, Arial, ui-sans-serif, system-ui; }

/* Review header block (desktop): left text, right square cover centered */
@media (min-width: 768px) {
	.review-header { display: grid; grid-template-columns: 2fr 1fr; gap: 16px; align-items: center; }
	.review-left { display: grid; grid-template-rows: auto auto 1fr; gap: 8px; }
	.post-author-line { font-family: Helvetica, Arial, ui-sans-serif, system-ui; color: var(--color-purple-dark, #a295b5); margin: 0; }
	.pull-quote {
		font-family: Helvetica, Arial, ui-sans-serif, system-ui;
		font-weight: 700;
		color: var(--color-purple-darkest, #654f84);
		border-left: 4px solid var(--color-pink-light, #e8c3d6);
		padding-left: 12px;
		margin: 4px 0 0;
	}
	.review-right { display: flex; align-items: center; justify-content: center; }
	.review-cover { margin: 0; }
}

/* Share row */
.share-row { display: flex; gap: 10px; margin: 12px 0 16px; }
.share-link { display: inline-flex; align-items: center; justify-content: center; width: 36px; height: 28px; border-radius: 6px; background: var(--color-purple-darkest, #654f84); color: var(--color-pink-light, #e8c3d6); font-weight: 700; font-size: 12px; }
.share-link:hover, .share-link:focus-visible { background: var(--color-purple-dark, #a295b5); color: var(--color-background-offwhite, #faf8f5); }

/* Subscribe CTA */
.subscribe-cta { margin: 24px 0; }
.btn-subscribe {
	font-family: Helvetica, Arial, ui-sans-serif, system-ui;
	font-weight: 700;
	color: var(--color-purple-darkest, #654f84);
	background: var(--color-pink-light, #e8c3d6);
	padding: 10px 16px;
	clip-path: polygon(8px 0%, 100% 0%, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0% 100%, 0% 8px);
	border: 2px solid #d989a8; /* dark pink edge */
}
.btn-subscribe:hover, .btn-subscribe:focus-visible { filter: brightness(0.97); }

/* Mobile review order: move cover image before body, hide desktop cover */
@media (max-width: 767px) {
	.review-header .review-right { display: none; }
	.review-cover-mobile { display: block; margin: 10px 0 12px; }
}
@media (min-width: 768px) {
	.review-cover-mobile { display: none; }
}
/* Footer social: horizontal with brand tint */
.site-footer .social-links {
	display: flex;
	gap: 14px;
	margin-top: 6px;
	color: var(--color-purple-darkest, #654f84);
}
.site-footer .social-links a:hover,
.site-footer .social-links a:focus-visible {
	color: var(--color-pink-light, #e8c3d6);
	transition: color 160ms ease;
}

/* Fallbacks for nav CSS variables to avoid layout break if undefined */
:root {
	--nav-height: 60px;
	--nav-mobile-height: 54px;
	--nav-spacing: 24px;
	--nav-spacing-mobile: 18px;
}

/* Pulse controls */
:root {
	--logo-pulse-state: running; /* set to 'paused' to disable globally */
	--logo-pulse-scale: 1.03;    /* max scale */
	--logo-glow-strength: 0.35;  /* opacity of glow at peak */
}

@keyframes logoPulse {
	0% { transform: scale(1); }
	40% { transform: scale(var(--logo-pulse-scale)); }
	100% { transform: scale(1); }
}

@keyframes logoGlow {
	0% { opacity: 0; }
	40% { opacity: var(--logo-glow-strength); }
	100% { opacity: 0; }
}

/* Skip link */
.skip-link { position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
.skip-link:focus { position: fixed; left: 8px; top: 8px; width: auto; height: auto; padding: 8px 12px; background: var(--color-purple-darkest, #654f84); color: var(--color-pink-light, #e8c3d6); border: 2px solid var(--color-pink-light, #e8c3d6); border-radius: 6px; z-index: 9999; }

/* Unified top band (mobile) */
@media (max-width: 767px) {
  .site-header .top-band { position: relative; background: var(--color-background-offwhite, #faf8f5); }
  .site-header .top-row { position: sticky; top: 0; z-index: 50; background: inherit; }
  .site-header .top-row.released { position: static; }
  .site-header .tagline-row { background: inherit; border-top: 1px solid rgba(101,79,132,0.12); }
  body.home .site-header .tagline-row { display: none; } /* hide duplicate tagline on home */
  .site-header .tagline { margin: 0; text-align: center; line-height: 1.2; max-width: 32ch; margin-left: auto; margin-right: auto; color: var(--color-purple-darkest, #654f84); }
  .logo-mobile { max-width: 35vw; height: auto; }
}

@media (min-width: 768px) {
  /* Desktop sticky nav/logo only; hero is not sticky */
  .site-header .desktop-row { position: sticky; top: 0; z-index: 40; background: var(--color-background-offwhite, #faf8f5); }
}

/* Top band height target: ~25vh with floor/ceiling */
@media (max-width: 767px) {
  .site-header .top-band { min-height: 140px; max-height: 240px; }
}

/* Keep decorative elements non-interactive under header */
.site-header .top-row, .site-header .tagline-row { pointer-events: auto; }
.site-main .hero::after { pointer-events: none; }
/* Fallback gaps/heights if arbitrary utilities are missing */
.nav-row { gap: var(--nav-spacing, 12px); }
.nav-col { gap: var(--nav-spacing-mobile, 12px); }
.site-header img[alt][src*="btb-logo-clean"] { height: var(--nav-mobile-height, 54px); width: auto; }
.hidden.md\:flex .nav-row { gap: var(--nav-spacing, 16px); }
@media (min-width: 1024px) { .site-main .hero { overflow: hidden; } }

/* Mobile nav: ensure toggle is tappable and above decorative layers */
.hamburger-btn { display: inline-flex; align-items: center; justify-content: center; height: 44px; min-width: 44px; padding: 0 12px; border: 2px solid var(--color-purple-dark, #a295b5); background: var(--color-purple-darkest, #654f84); color: var(--color-pink-light, #e8c3d6); border-radius: 6px; }
.hamburger-btn:focus-visible { outline: 2px solid var(--color-pink-light, #e8c3d6); outline-offset: 2px; }
.mobile-nav { position: relative; z-index: 30; }
.mobile-nav > nav { margin-top: 8px; }
.logo-mobile { max-width: 56vw; height: auto; }

/* Navbar slow-nav indicator (pulsing trapezoid) */
.nav-loading { display: inline-block; width: 36px; height: 16px; margin-left: 10px; clip-path: polygon(8px 0%, 100% 0%, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0% 100%, 0% 8px); background: var(--color-pink-light, #e8c3d6); opacity: 0; pointer-events: none; }
/* Subscribe overlay */
.subscribe-overlay { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(0,0,0,0.35); z-index: 100; opacity: 0; transition: opacity 160ms ease; }
.subscribe-overlay.is-open { opacity: 1; }
.subscribe-backdrop { position: absolute; inset: 0; }
.subscribe-dialog { position: relative; max-width: 720px; width: calc(100% - 24px); margin: 0 auto; background: var(--color-background-offwhite, #faf8f5); border: 2px solid var(--color-pink-light, #e8c3d6); border-radius: 14px; padding: 12px; box-shadow: 0 10px 30px rgba(101,79,132,0.22); }
.subscribe-close { position: absolute; top: 8px; right: 8px; border: 0; background: var(--color-purple-darkest, #654f84); color: var(--color-pink-light, #e8c3d6); width: 36px; height: 36px; border-radius: 8px; cursor: pointer; }
.subscribe-close:focus-visible { outline: 2px solid var(--color-pink-light, #e8c3d6); outline-offset: 2px; }
@media (min-width: 768px) { .subscribe-dialog { padding: 16px; } }

/* Contact form (Formspree) */
.contact-form { display: grid; gap: 12px; margin-top: 12px; }
.contact-form .field-group { display: grid; gap: 6px; }
.contact-form label { color: var(--color-purple-darkest, #654f84); font-weight: 700; }
.contact-form input, .contact-form textarea { width: 100%; padding: 12px 14px; border: 1px solid rgba(0,0,0,0.08); border-radius: 10px; background: #fff; outline: none; transition: box-shadow .15s ease, border-color .15s ease; box-shadow: 0 0 0 0 rgba(0,0,0,0); }
.contact-form input:focus, .contact-form textarea:focus { border-color: var(--color-pink-light, #e8c3d6); box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-pink-light) 35%, transparent); }
.contact-form .actions { margin-top: 8px; }
@keyframes navPulse { 0%,100%{ transform: scale(1); background: var(--color-pink-light, #e8c3d6);} 50%{ transform: scale(1.06); background: var(--color-purple-darkest, #654f84);} }
@media (prefers-reduced-motion: no-preference) {
  .nav-loading.is-active { opacity: 1; animation: navPulse 1.2s ease-in-out infinite; }
}
@media (prefers-reduced-motion: reduce) {
  .nav-loading.is-active { opacity: 0.85; }
}

/* Ensure clear focus for first/last nav items on mobile */
.nav-col .nav-link:focus-visible { outline: 2px solid var(--color-pink-light, #e8c3d6); outline-offset: 3px; border-radius: 6px; }

/* Desktop hero sizing + subtle jagged bottom border */
@media (min-width: 1024px) {
	.site-main .hero {
		position: relative;
		/* target ~3.5/9 of 16:9 viewport minus nav height */
		min-height: calc(39vh - var(--nav-height));
		padding-block: 20px; /* tighten large spacing */
		z-index: 1; /* keep content above decorative stripe */
	}
	/* add breathing room below hero before cards */
	.site-main + section, .site-main .post-list { margin-top: 24px; }
	.site-main .hero::after {
		content: "";
		position: absolute;
		left: 0;
		right: 0;
		bottom: -1px;
		height: var(--nav-height);
		background-color: var(--color-pink-light, #e8c3d6);
		/* create a subtle jagged/sawtooth edge using a mask */
		-webkit-mask-image: repeating-linear-gradient(-45deg, #000 0 10px, transparent 10px 20px);
		mask-image: repeating-linear-gradient(-45deg, #000 0 10px, transparent 10px 20px);
		opacity: 0.85;
		pointer-events: none;
		z-index: 0;
	}
}

/* Mobile hero: proportionally smaller height and border matching mobile nav */
@media (max-width: 767px) {
	.site-main .hero { display: none; }
	.site-main .hero::after {
		content: "";
		position: absolute;
		left: 0;
		right: 0;
		bottom: -1px;
		height: var(--nav-mobile-height);
		background-color: var(--color-pink-light, #e8c3d6);
		-webkit-mask-image: repeating-linear-gradient(-45deg, #000 0 8px, transparent 8px 16px);
		mask-image: repeating-linear-gradient(-45deg, #000 0 8px, transparent 8px 16px);
		opacity: 0.85;
		pointer-events: none;
	}
}

/* Image frames: small/medium/large, rectangle and square
   - Adaptive to portrait/landscape via object-fit: contain
   - Chamfered corners (light angle), straight edges in purple, chamfers accented pink
   Usage:
     <figure class="img-frame img-rect-m"><img class="img-media" src="..." alt="..." /></figure>
     <figure class="img-frame img-square-s">...</figure>
*/
.img-frame {
	position: relative;
	display: block;
	overflow: hidden;
	/* Images should touch the frame (no inner padding) */
	padding: 0;
	/* External spacing so surrounding text never crowds the border */
	margin: 0.75rem 0 1rem;
	--b: 3px; /* border thickness */
	--c: 8px; /* chamfer size - keep light */
	--edge: var(--color-purple-dark, #a295b5);
	--chamfer: var(--color-pink-light, #e8c3d6);
	background: var(--color-background-offwhite, #faf8f5);
	clip-path: polygon(
		var(--c) 0%,
		calc(100% - var(--c)) 0%,
		100% var(--c),
		100% calc(100% - var(--c)),
		calc(100% - var(--c)) 100%,
		var(--c) 100%,
		0% calc(100% - var(--c)),
		0% var(--c)
	);
	/* Subtle dark purple drop shadow to feel like a cut-out */
	box-shadow: 0 4px 10px rgba(101,79,132,0.10), 0 1px 3px rgba(101,79,132,0.14);
}

/* Homepage post cards: framed 4:5 tiles, full-card link, subtle overlap */
.post-list {
	display: grid;
	grid-template-columns: 1fr;
	gap: 16px;
	overflow-x: hidden; /* prevent horizontal scroll from decorative transforms */
}

@media (min-width: 768px) {
	.post-list {
		grid-template-columns: repeat(2, minmax(0, 1fr));
	}
}

.post-card.card-frame {
	position: relative;
	display: block;
	text-decoration: none;
	background: var(--color-background-offwhite, #faf8f5);
	/* subtle dark purple shadow */
	box-shadow: 0 4px 10px rgba(101,79,132,0.10), 0 1px 3px rgba(101,79,132,0.14);
	/* padding for text content */
	padding: 14px 16px 16px;
	/* create room for the chamfered border */
	overflow: hidden;
}

/* 4:5 media region */
.post-card.card-frame .card-media {
	position: relative;
	width: 100%;
	/* 4:5 (W:H) → aspect-ratio: 4 / 5 */
	aspect-ratio: 4 / 5;
	margin-bottom: 12px;
}

.post-card.card-frame .card-media img {
	position: absolute;
	inset: 0;
	width: 100%;
	height: 100%;
	object-fit: cover;
	background: transparent;
    view-transition-name: none; /* default off; set inline on tap */
}

/* Chamfered frame with chunky pink strokes on chamfered edges only */
.post-card.card-frame::before,
.post-card.card-frame::after {
	content: "";
	position: absolute;
	inset: 0;
	pointer-events: none;
	clip-path: polygon(
		var(--c, 10px) 0%,
		calc(100% - var(--c, 10px)) 0%,
		100% var(--c, 10px),
		100% calc(100% - var(--c, 10px)),
		calc(100% - var(--c, 10px)) 100%,
		var(--c, 10px) 100%,
		0% calc(100% - var(--c, 10px)),
		0% var(--c, 10px)
	);
}

/* Straight edges (purple) using side gradients below the chamfers */
.post-card.card-frame::before {
	--b: 3px;
	--edge: var(--color-purple-dark, #a295b5);
	background:
		linear-gradient(var(--edge), var(--edge)) top/100% var(--b) no-repeat,
		linear-gradient(var(--edge), var(--edge)) bottom/100% var(--b) no-repeat,
		linear-gradient(var(--edge), var(--edge)) left/var(--b) 100% no-repeat,
		linear-gradient(var(--edge), var(--edge)) right/var(--b) 100% no-repeat;
}

/* Chunky chamfer accents (pink) only at the chamfered corners */
.post-card.card-frame::after {
	--b: 4px; /* chunky stroke */
	--chamfer: var(--color-pink-light, #e8c3d6);
	box-shadow:
		inset var(--b) var(--b) 0 0 var(--chamfer),
		inset calc(-1*var(--b)) calc(-1*var(--b)) 0 0 var(--chamfer);
	opacity: 0.9;
}

/* Angle variants (skew the frame slightly). Keep assortment static */
.card-angle-9  { --card-angle: -9deg;  transform: skewX(var(--card-angle)); }
.card-angle-11 { --card-angle: -11deg; transform: skewX(var(--card-angle)); }
.card-angle-13 { --card-angle: -13deg; transform: skewX(var(--card-angle)); }
.card-angle-16 { --card-angle: -16deg; transform: skewX(var(--card-angle)); }

/* Unskew inner content so text/media are readable */
.post-card.card-frame .card-media,
.post-card.card-frame .post-card-content { transform: skewX(calc(-1 * var(--card-angle, 0deg))); }

/* Spacing for content */
.post-card-title { margin: 6px 0 2px; }
.post-card-meta { font-size: 0.9rem; opacity: 0.85; margin-bottom: 6px; }
.post-card-excerpt { margin-top: 6px; }

/* Homepage specialized cards */
@media (min-width: 768px) {
  .card-review .card-inner { padding: 14px 16px 16px; }
  .card-review .card-title { margin: 0 0 8px; color: var(--color-purple-darkest, #654f84); }
  .card-review .card-bottom { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; align-items: center; }
  .card-review .card-left { display: grid; grid-template-rows: 1fr auto; gap: 10px; }
  .card-review .card-quote { color: #3f3652; opacity: 0.95; }
  .card-review .card-actions .btn-trapezoid { display: inline-block; }
  .card-review .card-right { display: flex; justify-content: center; }
  .card-image.card-image-square { aspect-ratio: 1 / 1; width: 100%; max-width: 220px; display: flex; align-items: center; justify-content: center; }
  .card-image.card-image-square img { width: 100%; height: 100%; object-fit: cover; }

  .card-podcast .card-inner { padding: 14px 16px 16px; display: grid; grid-template-columns: 1fr 1fr; gap: 12px; align-items: center; }
  .card-podcast .card-left { display: grid; grid-template-rows: 2fr 2fr 1fr; gap: 8px; align-items: center; }
  .card-podcast .card-title { margin: 0; color: var(--color-purple-darkest, #654f84); }
  .card-podcast .card-sub { color: var(--color-purple-dark, #a295b5); margin: 0; }
  .card-podcast .card-actions .btn-trapezoid { display: inline-block; }
  .card-podcast .card-right { display: flex; justify-content: center; }
  .card-image.card-image-portrait { aspect-ratio: 4 / 5; width: 100%; max-width: 240px; display: flex; align-items: center; justify-content: center; }
  .card-image.card-image-portrait img { width: 100%; height: 100%; object-fit: cover; }
}

@media (max-width: 767px) {
  .card-review .card-right, .card-podcast .card-right { display: none; }
  .card-review .card-inner, .card-podcast .card-inner { padding: 14px 16px 16px; }
	/* Soften angle variants on small screens to avoid clipping */
	.card-angle-13, .card-angle-16 { --card-angle: -9deg; }
}

/* Trapezoid action buttons (home cards) */
.btn-action {
	font-family: Helvetica, Arial, ui-sans-serif, system-ui;
	font-weight: 700;
	color: var(--color-pink-light, #e8c3d6);
	background: var(--color-purple-darkest, #654f84);
	padding: 13px 16px; /* increase for large-text AA */
	clip-path: polygon(8px 0%, 100% 0%, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0% 100%, 0% 8px);
	border: 2px solid var(--color-purple-dark, #a295b5);
	display: inline-flex;
	align-items: center;
	justify-content: center;
	transition: transform 120ms ease, background-color 120ms ease;
}
.btn-action:hover,
.btn-action:focus-visible {
	transform: translateY(-1px);
	background: var(--color-purple-dark, #a295b5);
	color: var(--color-background-offwhite, #faf8f5);
}

/* Subtle overlaps: right tile overlaps left; lower overlaps upper */
@media (min-width: 768px) {
	.post-list > .post-card { position: relative; }
	.post-list > .post-card:nth-child(2n) { /* right column */
		margin-left: -10px; /* subtle horizontal overlap */
		z-index: 2;
	}
	.post-list > .post-card:nth-child(n+3) { /* second row and below */
		margin-top: -12px; /* subtle vertical overlap */
	}
}

/* Ensure overlaps remain subtle on mobile (single column) */
@media (max-width: 767px) {
	.post-list > .post-card { margin-left: 0; margin-top: 0; }
}

/* Allow content images to render; hide only decorative ghosts if needed */
.post-content img { display: block; max-width: 100%; height: auto; }

.img-frame::before {
	content: "";
	position: absolute;
	inset: 0;
	pointer-events: none;
	/* Straight-edge frame using 4 side gradients (purple) */
	background:
		linear-gradient(var(--edge), var(--edge)) top/100% var(--b) no-repeat,
		linear-gradient(var(--edge), var(--edge)) bottom/100% var(--b) no-repeat,
		linear-gradient(var(--edge), var(--edge)) left/var(--b) 100% no-repeat,
		linear-gradient(var(--edge), var(--edge)) right/var(--b) 100% no-repeat;
	clip-path: inherit;
}

.img-frame::after {
	content: "";
	position: absolute;
	inset: 0;
	pointer-events: none;
	/* Subtle chamfer accents using inner shadows at corners (pink) */
	box-shadow:
		inset var(--b) var(--b) 0 0 var(--chamfer),
		inset calc(-1*var(--b)) calc(-1*var(--b)) 0 0 var(--chamfer);
	/* Keep effect light */
	opacity: 0.8;
	clip-path: inherit;
}

.img-media {
	width: 100%;
	height: 100%;
	display: block;
	object-fit: contain; /* scale down proportionally, no cropping */
	background: transparent;
}

/* Aspect + size presets */
.img-rect-s { aspect-ratio: 16 / 9; max-width: 320px; }
.img-rect-m { aspect-ratio: 16 / 9; max-width: 560px; }
.img-rect-l { aspect-ratio: 16 / 9; max-width: 800px; }

.img-square-s { aspect-ratio: 1 / 1; max-width: 240px; }
.img-square-m { aspect-ratio: 1 / 1; max-width: 360px; }
.img-square-l { aspect-ratio: 1 / 1; max-width: 480px; }

/* Let frames expand to container width on small screens */
@media (max-width: 767px) {
	.img-rect-s, .img-rect-m, .img-rect-l,
	.img-square-s, .img-square-m, .img-square-l {
		width: 100%;
		max-width: 100%;
	}
}

/* Slightly increase chamfer on desktop for presence, still light */
@media (min-width: 1024px) {
	.img-frame { --c: 10px; }
}

/* Slightly increase safe outer spacing on tablet+ */
@media (min-width: 768px) {
	.img-frame { margin: 1rem 0 1.25rem; }
}

/* Editor block responsive two-column layout */
@media (min-width: 768px) {
	.editor-block {
		grid-template-columns: 1fr 420px; /* text + medium image column */
	}
}

/* Ensure "special" heading treatments are only for page headings.
   Regular headings in review/podcast content should be plain but branded. */
@font-face {
	font-family: 'Grobe Deutschmeister';
	src: url('../fonts/GrobeDeutschmeister.ttf') format('truetype');
	font-weight: normal;
	font-style: normal;
	font-display: swap;
}

:root { --font-heading: 'Grobe Deutschmeister', 'Bebas Neue', ui-sans-serif, system-ui, sans-serif; }

/* Global heading font override */
h1, h2, h3, h4, h5, h6 { font-family: var(--font-heading, 'Bebas Neue', ui-sans-serif, system-ui, sans-serif); }

/* Special page heading (Mission, Reviews, Podcasts, Contact) */
.page-header { padding: 16px; }
@media (min-width: 768px) { .page-header { padding: 24px; } }

.page-title-stack { position: relative; display: inline-block; text-align: left; }
.page-title-bg::before {
    content: attr(data-title);
    display: block;
    font-family: var(--font-heading, 'Bebas Neue', ui-sans-serif, system-ui, sans-serif);
    color: var(--color-pink-light, #e8c3d6);
    opacity: 0.9;
    line-height: 0.95;
    letter-spacing: normal;
    margin: 0; /* remove gap to allow true centering */
    font-size: clamp(3rem, 12vw, 8rem); /* large pink word (~2x h1) */
}

.page-header .page-title {
    position: absolute; /* center within the pink word block */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1;
    margin: 0;
    font-family: var(--font-heading, 'Bebas Neue', ui-sans-serif, system-ui, sans-serif);
    color: var(--color-purple-darkest, #654f84);
    line-height: 1.05;
    letter-spacing: normal;
    font-size: clamp(1.6rem, 6vw, 4rem);
    text-align: center;
}

.post-content h1,
.post-content h2,
.post-content h3,
.post-content h4,
.post-content h5,
.post-content h6 {
	font-family: var(--font-heading, 'Bebas Neue', ui-sans-serif, system-ui, sans-serif) !important;
	color: var(--color-purple-darkest, #654f84) !important;
	text-transform: none;
	letter-spacing: normal;
	background: none;
	box-shadow: none;
	border: 0;
}

/* Pulse wrapper for hero logo */
.logo-pulse { position: relative; display: inline-block; will-change: transform; animation: logoPulse 2.5s ease-in-out var(--logo-pulse-delay, 0.4s) var(--logo-pulse-state, running) infinite; }
.logo-pulse::after { content: ""; position: absolute; inset: -6px; border-radius: 9999px; pointer-events: none; background: radial-gradient(circle, rgba(232,195,214,1) 0%, rgba(232,195,214,0) 70%); filter: blur(8px); opacity: 0; animation: logoGlow 2.5s ease-in-out var(--logo-pulse-delay, 0.4s) var(--logo-pulse-state, running) infinite; }
.logo-pulse:hover, .logo-pulse:focus-visible { animation-play-state: paused; }
/* Keep focus ring visible against glow */
.logo-pulse:focus-visible { outline: 2px solid var(--color-purple-darkest, #654f84); outline-offset: 4px; border-radius: 8px; }

/* Pause pulse when mobile menu is open (reduce nearby motion) */
header.site-header details[open] ~ main .logo-pulse, header.site-header details[open] .logo-pulse { animation-play-state: paused; }

/* Reduced motion: disable pulse, keep subtle static glow */
@media (prefers-reduced-motion: reduce) {
	.logo-pulse { animation: none !important; }
	.logo-pulse::after { opacity: 0.2 !important; animation: none !important; }
}

@media (max-width: 767px) {
	::view-transition-group(root) { animation-duration: 0.25s; animation-timing-function: ease-out; }
	::view-transition-old(root), ::view-transition-new(root) { animation: none; }
}
